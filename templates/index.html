<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Generador de Documentos - CASEOLI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>

<div class="header">
    <img src="/static/img/logo.png" alt="CASEOLI">
</div>

<div class="container">

<h2>Generador de Documentos</h2>

<!-- ============================= -->
<!-- MENSAJE DE BIENVENIDA -->
<!-- ============================= -->
<div id="bienvenida">
    <h3>Bienvenido üëã</h3>
    <p>
        Selecciona el tipo de documento que deseas generar.<br>
        El sistema mostrar√° √∫nicamente el formulario correspondiente.
    </p>
</div>

<form action="/generar" method="post" enctype="multipart/form-data">

<!-- ============================= -->
<!-- TIPO DE DOCUMENTO -->
<!-- ============================= -->
<h3>Tipo de Documento</h3>
<select name="tipo_documento" id="tipo_documento" required onchange="cambiarFormulario()">
    <option value="">Seleccione un tipo de documento</option>
    <option value="mantenimiento">Informe de Mantenimiento</option>
    <option value="sustitucion">Sustituci√≥n de Equipo</option>
</select>

<!-- ============================= -->
<!-- CONTENEDOR GENERAL -->
<!-- ============================= -->
<div id="contenedor-formularios" style="display:none;">

<!-- ============================= -->
<!-- DATOS GENERALES -->
<!-- ============================= -->
<div id="general">
<h3>Informaci√≥n General</h3>

<input name="municipio" placeholder="Municipio">
<input name="afiliacion" placeholder="Afiliaci√≥n">

<label>Fecha y hora de solicitud</label>
<input type="datetime-local" name="fecha_solicitud">

<label>Fecha y hora de atenci√≥n</label>
<input type="datetime-local" name="fecha_atencion">

<label>Fecha y hora de cierre</label>
<input type="datetime-local" name="fecha_cierre">

<input name="tecnologia" placeholder="Tecnolog√≠a">
<input name="ticket" placeholder="N√∫mero de ticket">
</div>

<!-- ============================= -->
<!-- MANTENIMIENTO -->
<!-- ============================= -->
<div id="form-mantenimiento" style="display:none;">

<h3>Atenci√≥n Brindada ‚Äì Mantenimiento</h3>

<div class="checkbox-group">
    <label><input type="checkbox" name="ajuste"> Ajuste de par√°metros</label>
    <label><input type="checkbox" name="reparacion"> Reparaci√≥n de equipo</label>
    <label><input type="checkbox" name="reubicacion"> Reubicaci√≥n</label>
    <label><input type="checkbox" name="cambio"> Cambio de equipo</label>
    <label><input type="checkbox" name="siniestro"> Siniestro</label>
    <label><input type="checkbox" name="otros"> Otros</label>
</div>

<h3>Detalle del Servicio</h3>
<textarea name="falla" placeholder="Descripci√≥n de la falla"></textarea>
<textarea name="solucion" placeholder="Soluci√≥n aplicada"></textarea>
<textarea name="observaciones" placeholder="Observaciones"></textarea>

</div>

<!-- ============================= -->
<!-- SUSTITUCI√ìN -->
<!-- ============================= -->
<div id="form-sustitucion" style="display:none;">

<h3>Equipo Retirado</h3>
<input name="er_descripcion" placeholder="Descripci√≥n">
<input name="er_marca" placeholder="Marca">
<input name="er_modelo" placeholder="Modelo">
<input name="er_serie" placeholder="Serie">

<h3>Equipo Instalado</h3>
<input name="ei_descripcion" placeholder="Descripci√≥n">
<input name="ei_marca" placeholder="Marca">
<input name="ei_modelo" placeholder="Modelo">
<input name="ei_serie" placeholder="Serie">

<textarea name="justificacion" placeholder="Justificaci√≥n de la sustituci√≥n"></textarea>

<select name="tipo_sustitucion">
    <option value="">Tipo de sustituci√≥n</option>
    <option value="Temporal">Temporal</option>
    <option value="Reinstalaci√≥n">Reinstalaci√≥n</option>
    <option value="Cambio definitivo">Cambio definitivo</option>
</select>

</div>

<!-- ============================= -->
<!-- FIRMAS -->
<!-- ============================= -->
<div id="firmas">
<h3>Firmas</h3>
<input name="nombre_coordinador" placeholder="Nombre del Coordinador Operativo">
<input name="nombre_responsable" placeholder="Nombre del Responsable de Tecnolog√≠a">
</div>

<!-- ============================= -->
<!-- FOTOS (SOLO MANTENIMIENTO) -->
<!-- ============================= -->
<div id="fotos" style="display:none;">
<h3>Reporte Fotogr√°fico (m√°x. 4 fotos)</h3>
<input type="file" name="fotos" accept="image/*" multiple>
</div>

<br><br>
<button type="submit">Generar Documento Word</button>

</div> <!-- fin contenedor -->

</form>
</div>

<!-- ============================= -->
<!-- SCRIPT -->
<!-- ============================= -->
<script>
function cambiarFormulario() {
    const tipo = document.getElementById("tipo_documento").value;

    document.getElementById("bienvenida").style.display = "none";
    document.getElementById("contenedor-formularios").style.display = "block";

    document.getElementById("form-mantenimiento").style.display = "none";
    document.getElementById("form-sustitucion").style.display = "none";
    document.getElementById("fotos").style.display = "none";

    if (tipo === "mantenimiento") {
        document.getElementById("form-mantenimiento").style.display = "block";
        document.getElementById("fotos").style.display = "block";
    }

    if (tipo === "sustitucion") {
        document.getElementById("form-sustitucion").style.display = "block";
    }
}
</script>

</body>
</html>
